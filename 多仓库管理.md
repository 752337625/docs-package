# 一个项目管理多个仓库

## 第一步 先创建一个蚂蚁 GitHub 仓库

```shell
git clone https://github.com/752337625/ant.git
cd ant
```

## 第二步 subtree add ....

**git subtree add --prefix=自定义目录/自定义目录/自定义目录 git 仓库地址 分支 --squash**

```shell
git subtree add --prefix=packages/docs https://github.com/752337625/docs-package.git main --squash
git subtree add --prefix=packages/ui https://github.com/752337625/ui-package.git main --squash
git subtree add --prefix=internal/eslint-config https://github.com/752337625/eslint-config.git main --squash
git subtree add --prefix=internal/ts-config https://github.com/752337625/ts-config.git main --squash
git subtree add --prefix=internal/vite-config https://github.com/752337625/vite-config.git main --squash
```

--squash 意思是把 subtree 的改动合并成一次 commit，这样就不用拉取子项目完整的历史记录。如果不加 --squash 参数，主项目会合并子项目本身所有的 commit 历史记录，加上 --squash 参数是把子项目的记录合成一次 commit 提交到主项目，这样主项目只是合并一次 commit 记录。

## 提交更改

### 默认更改提交

蚂蚁仓库的提交,和我们平时提交代码到仓库一模一样,不会对子仓库进行提交

### 提交到子仓库更改

**git subtree push --prefix=自定义目录/自定义目录/自定义目录 git 仓库地址 分支 --squash**

> "自定义目录/自定义目录/自定义目录",这里注意是本地放代码的位置

```shell
git subtree push --prefix=packages/docs https://github.com/752337625/docs-package.git main
git subtree push --prefix=packages/ui https://github.com/752337625/ui-package.git main
git subtree push --prefix=internal/eslint-config https://github.com/752337625/eslint-config.git main
git subtree push --prefix=internal/ts-config https://github.com/752337625/ts-config.git main
git subtree push --prefix=internal/vite-config https://github.com/752337625/vite-config.git main
```

注意:关于 commits 是有关父仓库的所有提交 commits 说明
